{"version":3,"sources":["types.ts","helpers.ts","config.ts","apollo.ts","components/Navigation.tsx","components/Settings.tsx","graphql/SearchIssues.ts","graphql/GetIssue.ts","graphql/GetIssueComments.ts","graphql/common.ts","components/Search.tsx","components/IssueListItem.tsx","components/LoadMore.tsx","components/Error.tsx","components/IssueList.tsx","components/CommentBody.tsx","components/IssueComment.tsx","components/IssueCommentList.tsx","components/Issue.tsx","components/App.tsx","index.tsx"],"names":["IssueStateFilter","readKeyFromLocalStorage","localStorageKey","defaultValue","localStorageValue","localStorage","getItem","JSON","parse","useStickyState","initialValue","React","useState","value","setValue","useEffect","setItem","stringify","githubRepositoryRegex","RegExp","issueStateFilter","makeVar","both","issueTextFilter","useStyles","makeStyles","theme","createStyles","appBar","color","marginBottom","spacing","title","Navigation","classes","AppBar","position","className","Toolbar","Grid","justify","alignItems","container","item","Button","aria-label","component","RouterLink","to","startIcon","GitHub","fontSize","Typography","variant","endIcon","field","marginTop","marginLeft","marginRight","width","GithubSettingsTextField","id","fieldRegex","label","placeholder","helperText","helperTextError","isValid","test","isTouched","setTouched","FormControl","error","TextField","required","onChange","newValue","target","onFocus","InputLabelProps","shrink","inputProps","spellCheck","Settings","githubConfig","noValidate","autoComplete","md","wrap","repositoryUrl","setRepositoryUrl","token","setToken","Link","href","rel","SearchIssues","gql","GetIssue","IssueState","GetIssueComments","root","margin","radioGreen","green","radioRed","red","Search","currentSearchValue","setCurrentSearchValue","cancelOnEscape","useReactiveVar","onRequestSearch","onCancelSearch","RadioGroup","row","name","FormControlLabel","control","Radio","minWidth","cardContent","paddingLeft","paddingRight","paddingBottom","subTitle","issueOpenIcon","issueClosedIcon","IssueListItem","number","state","createdAt","authorLogin","totalCommentCount","Card","CardActionArea","CardContent","xs","ErrorOutline","CheckCircleOutline","direction","Comment","LoadMore","loadMore","Fab","size","onClick","MoreHoriz","ErrorDetails","details","UnauthenticatedError","Alert","severity","AlertTitle","BadCredentialsError","GraphQLError","packageRepository","url","OtherError","GithubRepositoryConfigError","Error","graphQLErrors","length","message","networkError","statusCode","result","IssueListItems","githubRepositoryOwner","githubRepositoryName","query","open","closed","useQuery","variables","join","loading","data","fetchMore","startPolling","stopPolling","search","edges","LinearProgress","map","node","author","login","comments","totalCount","key","pageInfo","hasNextPage","after","endCursor","IssueList","repositoryName","repositoryOwner","CommentBody","bodyHTML","htmlParser","DOMPurify","sanitize","header","avatarRoot","height","avatarComment","issueStatusChip","issueStatusChipOpen","backgroundColor","issueStatusChipClosed","issueStatusIcon","IssueComment","props","CardHeader","avatar","Avatar","alt","src","authorAvatarUrl","isRootComment","substr","issueTitle","undefined","titleTypographyProps","subheader","authorUrl","issueStatus","Chip","icon","action","IconButton","issueUrl","issueNumber","IssueCommentList","repository","issue","avatarUrl","Issue","issueNumberParam","useParams","parseInt","AuthWrapper","children","App","apolloClient","httpLink","createHttpLink","uri","authLink","setContext","_","headers","githubToken","authorization","ApolloClient","link","concat","cache","InMemoryCache","typePolicies","User","keyFields","Repository","fields","relayStylePagination","Query","connectToDevTools","createApolloClient","githubRepositoryUrl","setGithubRepositoryUrl","setGithubToken","githubRepositoryMatch","match","groups","owner","resetStore","client","basename","Container","maxWidth","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad6fc4bb.chunk.js","sourcesContent":["export interface GithubConfig {\n  token?: string;\n  setToken: React.Dispatch<React.SetStateAction<string>>;\n  repositoryUrl?: string;\n  setRepositoryUrl: React.Dispatch<React.SetStateAction<string>>;\n  repositoryOwner?: string;\n  repositoryName?: string;\n}\n\nexport enum IssueStateFilter {\n  open = \"open\",\n  closed = \"closed\",\n  both = \"both\",\n}\n","import React from \"react\";\n\nexport const readKeyFromLocalStorage = <T>(\n  localStorageKey: string,\n  defaultValue: T\n): T => {\n  const localStorageValue = localStorage.getItem(localStorageKey);\n  return localStorageValue\n    ? (JSON.parse(localStorageValue) as T)\n    : defaultValue;\n};\n\nexport const useStickyState = <T>(\n  localStorageKey: string,\n  defaultValue: T\n): [T, React.Dispatch<React.SetStateAction<T>>] => {\n  const initialValue = readKeyFromLocalStorage(localStorageKey, defaultValue);\n\n  const [value, setValue] = React.useState<T>(initialValue);\n\n  const storeValueInLocalStorage = (): void =>\n    localStorage.setItem(localStorageKey, JSON.stringify(value));\n\n  React.useEffect(storeValueInLocalStorage, [value]);\n\n  return [value, setValue];\n};\n","export const defaultGitHubRepository = \"https://github.com/facebook/react\";\n// https://regex101.com/r/8IgFO1/2/\nexport const githubRepositoryRegex = new RegExp(\n  \"^https?://github.com/(?<owner>.+?)/(?<name>.+?)(?:/|$)\"\n);\nexport const githubGraphQLEndpoint = \"https://api.github.com/graphql\";\n// polling interval for re-fetching the newest set of results\n// (in the issues and comments lists)\nexport const graphQLPollingInterval = 30000;\n","import {\n  ApolloClient,\n  InMemoryCache,\n  NormalizedCacheObject,\n  createHttpLink,\n  makeVar,\n} from \"@apollo/client\";\n\nimport { setContext } from \"@apollo/client/link/context\";\nimport { relayStylePagination } from \"@apollo/client/utilities\";\n\nimport { githubGraphQLEndpoint } from \"./config\";\nimport { readKeyFromLocalStorage } from \"./helpers\";\nimport { IssueStateFilter } from \"./types\";\n\nexport const createApolloClient = (): ApolloClient<NormalizedCacheObject> => {\n  const httpLink = createHttpLink({\n    uri: githubGraphQLEndpoint,\n  });\n\n  const authLink = setContext((_, { headers }) => {\n    const githubToken = readKeyFromLocalStorage<string>(\"githubToken\", \"\");\n    return {\n      headers: {\n        ...headers,\n        authorization: githubToken ? `bearer ${githubToken}` : \"\",\n      },\n    };\n  });\n\n  return new ApolloClient({\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache({\n      typePolicies: {\n        // the user (`author` prop) `login` (username) is distinct no matter if\n        // the user data is fetched from the `GetIssue` query or the `SearchIssues`\n        User: {\n          keyFields: [\"login\"],\n        },\n        // `Repository` queries are the ones for fetching single issues (`GetIssue`)\n        // hence the nested `id` prop. of the issue should be used as the cache key\n        Repository: {\n          keyFields: [[\"id\"]],\n        },\n        Issue: {\n          fields: {\n            // pagination policy for comment retrieval\n            comments: relayStylePagination([[\"issueNumber\"]]),\n          },\n        },\n        Query: {\n          fields: {\n            // pagination policy for issue search/list\n            search: relayStylePagination([\"query\"]),\n          },\n        },\n      },\n    }),\n    connectToDevTools: true,\n  });\n};\n\n// reactive search filter parameters\nexport const issueStateFilter = makeVar<IssueStateFilter>(\n  IssueStateFilter.both\n);\nexport const issueTextFilter = makeVar<string>(\"\");\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { AppBar, Button, Toolbar, Typography, Grid } from \"@material-ui/core\";\nimport { Settings, GitHub } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    appBar: {\n      color: \"#fff\",\n      marginBottom: theme.spacing(3),\n    },\n    title: {\n      \"text-transform\": \"none\",\n    },\n  })\n);\n\nexport const Navigation: React.FC<{}> = () => {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"static\" className={classes.appBar}>\n      <Toolbar>\n        <Grid justify=\"space-between\" alignItems=\"center\" container>\n          <Grid item>\n            <Button\n              aria-label=\"home\"\n              component={RouterLink}\n              to=\"/\"\n              color=\"inherit\"\n              startIcon={<GitHub fontSize=\"small\" />}\n            >\n              <Typography variant=\"h6\" className={classes.title}>\n                MMS GitHub Issue Explorer\n              </Typography>\n            </Button>\n          </Grid>\n\n          <Grid item>\n            <Button\n              component={RouterLink}\n              to=\"/settings\"\n              endIcon={<Settings />}\n              color=\"inherit\"\n            >\n              Settings\n            </Button>\n          </Grid>\n        </Grid>\n      </Toolbar>\n    </AppBar>\n  );\n};\n","import React from \"react\";\n\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Grid, Link, TextField, FormControl } from \"@material-ui/core\";\n\nimport { defaultGitHubRepository, githubRepositoryRegex } from \"../config\";\nimport { GithubConfig } from \"../types\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    field: {\n      marginTop: theme.spacing(3),\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2),\n      width: \"100%\",\n    },\n  })\n);\n\ninterface GithubSettingsTextFieldProps {\n  id: string;\n  value?: string;\n  setValue: React.Dispatch<React.SetStateAction<string>>;\n  fieldRegex: RegExp;\n  label: string;\n  placeholder: string;\n  helperText: React.ReactNode;\n  helperTextError?: React.ReactNode;\n}\n\nconst GithubSettingsTextField: React.FC<GithubSettingsTextFieldProps> = ({\n  id,\n  value,\n  setValue,\n  fieldRegex,\n  label,\n  placeholder,\n  helperText,\n  helperTextError,\n}) => {\n  const classes = useStyles();\n\n  const isValid = (): boolean => fieldRegex.test(value || \"\");\n  const [isTouched, setTouched] = React.useState<boolean>(false);\n\n  return (\n    <FormControl error={isTouched && !isValid()} className={classes.field}>\n      <TextField\n        id={id}\n        required={true}\n        error={isTouched && !isValid()}\n        value={value}\n        onChange={({\n          target: { value: newValue },\n        }: React.ChangeEvent<HTMLInputElement>): void => setValue(newValue)}\n        onFocus={(): void => setTouched(true)}\n        label={label}\n        placeholder={placeholder}\n        helperText={\n          isTouched && !isValid() ? helperTextError || helperText : helperText\n        }\n        InputLabelProps={{\n          shrink: true,\n        }}\n        inputProps={{ spellCheck: \"false\" }}\n      />\n    </FormControl>\n  );\n};\n\nexport const Settings: React.FC<{\n  githubConfig: GithubConfig;\n}> = ({ githubConfig }) => (\n  <form noValidate autoComplete=\"off\">\n    <Grid\n      container\n      item={true}\n      md={10}\n      wrap=\"wrap\"\n      justify=\"space-between\"\n      alignItems=\"flex-end\"\n    >\n      <GithubSettingsTextField\n        id=\"githubRepository\"\n        value={githubConfig.repositoryUrl}\n        setValue={githubConfig.setRepositoryUrl}\n        fieldRegex={githubRepositoryRegex}\n        label=\"GitHub repository\"\n        placeholder={defaultGitHubRepository}\n        helperText={<span>Enter the full GitHub repository URL</span>}\n        helperTextError={\n          <span>\n            Invalid GitHub repository - use the following format:\n            <br />\n            <strong>{defaultGitHubRepository}</strong>\n          </span>\n        }\n      />\n\n      <GithubSettingsTextField\n        id=\"githubToken\"\n        value={githubConfig.token}\n        setValue={githubConfig.setToken}\n        fieldRegex={new RegExp(\"(.+)\")}\n        label=\"GitHub personal access token\"\n        placeholder=\"token\"\n        helperText={\n          <span>\n            Create a personal access token on GitHub with the public_repo scope\n            -{\" \"}\n            <Link\n              href=\"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token\"\n              target=\"_blank\"\n              rel=\"noopener\"\n              color=\"primary\"\n            >\n              official guide\n            </Link>\n          </span>\n        }\n      />\n    </Grid>\n  </form>\n);\n","import { gql } from \"@apollo/client\";\n\nimport { IssuePreview, PageInfo } from \"./common\";\n\nexport const SearchIssues = gql`\n  query SearchIssues($query: String!, $after: String) {\n    search(type: ISSUE, query: $query, last: 10, after: $after) {\n      edges {\n        node {\n          ... on Issue {\n            author {\n              login\n            }\n            comments {\n              totalCount\n            }\n            id\n            number\n            state\n            title\n            createdAt\n          }\n        }\n      }\n      pageInfo {\n        startCursor\n        hasPreviousPage\n        hasNextPage\n        endCursor\n      }\n    }\n  }\n`;\n\ninterface SearchIssuesEdge {\n  node: IssuePreview;\n}\n\nexport interface SearchIssuesRes {\n  search: {\n    edges: SearchIssuesEdge[];\n    pageInfo: PageInfo;\n  };\n}\n","import { gql } from \"@apollo/client\";\n\nimport { Issue } from \"./common\";\n\nexport const GetIssue = gql`\n  query GetIssue(\n    $githubRepositoryName: String!\n    $githubRepositoryOwner: String!\n    $issueNumber: Int!\n  ) {\n    repository(name: $githubRepositoryName, owner: $githubRepositoryOwner) {\n      issue(number: $issueNumber) {\n        id\n        number\n        state\n        title\n        url\n        author {\n          avatarUrl(size: 40)\n          login\n          url\n        }\n        bodyHTML\n        createdAt\n      }\n    }\n  }\n`;\n\nexport interface GetIssueRes {\n  repository: {\n    issue: Issue;\n  };\n}\n","import { gql } from \"@apollo/client\";\n\nimport { Author, PageInfo } from \"./common\";\n\nexport const GetIssueComments = gql`\n  query GetIssueComments(\n    $githubRepositoryName: String!\n    $githubRepositoryOwner: String!\n    $issueNumber: Int!\n    $after: String\n  ) {\n    repository(name: $githubRepositoryName, owner: $githubRepositoryOwner) {\n      issue(number: $issueNumber) {\n        id\n        comments(first: 10, after: $after) {\n          edges {\n            node {\n              id\n              createdAt\n              author {\n                login\n                avatarUrl\n                url\n              }\n              bodyHTML\n            }\n          }\n          pageInfo {\n            startCursor\n            hasPreviousPage\n            hasNextPage\n            endCursor\n          }\n        }\n      }\n    }\n  }\n`;\n\ninterface IssueComment {\n  id: string;\n  createdAt: string;\n  author: Author;\n  bodyHTML: string;\n}\n\ninterface GetIssueCommentsEdge {\n  node: IssueComment;\n}\n\nexport interface GetIssueCommentsRes {\n  repository: {\n    issue: {\n      id: string;\n      comments: {\n        edges: GetIssueCommentsEdge[];\n        pageInfo: PageInfo;\n      };\n    };\n  };\n}\n","export interface Author {\n  login: string;\n  avatarUrl: string;\n  url: string;\n}\n\nexport interface PageInfo {\n  startCursor: string;\n  hasPreviousPage: boolean;\n  hasNextPage: boolean;\n  endCursor: string;\n}\n\nexport enum IssueState {\n  OPEN = \"OPEN\",\n  CLOSED = \"CLOSED\",\n}\n\nexport interface IssuePreview {\n  createdAt: string;\n  state: IssueState;\n  comments: {\n    totalCount: number;\n  };\n  author: Pick<Author, \"login\">;\n  title: string;\n  number: number;\n  id: string;\n}\n\nexport interface Issue extends IssuePreview {\n  url: string;\n  author: Author;\n  bodyHTML: string;\n}\n","import React from \"react\";\n\nimport { useReactiveVar } from \"@apollo/client\";\nimport SearchBar from \"material-ui-search-bar\";\n\nimport { issueTextFilter, issueStateFilter } from \"../apollo\";\nimport { IssueStateFilter } from \"../types\";\n\nimport {\n  FormControl,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { green, red } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      margin: `0 auto`,\n      \"text-align\": \"right\",\n    },\n    issueStateFilter: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    },\n    radioGreen: {\n      color: green[400],\n    },\n    radioRed: {\n      color: red[400],\n    },\n  })\n);\n\nexport const Search: React.FC<{}> = () => {\n  const classes = useStyles();\n\n  const [currentSearchValue, setCurrentSearchValue] = React.useState<string>(\n    \"\"\n  );\n\n  return (\n    <div className={classes.root}>\n      <SearchBar\n        cancelOnEscape={true}\n        value={useReactiveVar(issueTextFilter)}\n        onChange={(value): void => setCurrentSearchValue(value)}\n        onRequestSearch={(): void => {\n          issueTextFilter(currentSearchValue);\n        }}\n        onCancelSearch={(): void => {\n          issueTextFilter(\"\");\n          setCurrentSearchValue(\"\");\n        }}\n      />\n      <FormControl component=\"fieldset\" className={classes.issueStateFilter}>\n        <RadioGroup\n          row\n          aria-label=\"issueStateFilter\"\n          name=\"issueStateFilter\"\n          value={useReactiveVar(issueStateFilter)}\n          onChange={({\n            target: { value },\n          }: React.ChangeEvent<HTMLInputElement>): void => {\n            issueStateFilter(value as IssueStateFilter);\n          }}\n        >\n          <FormControlLabel\n            value=\"open\"\n            control={<Radio color=\"default\" className={classes.radioGreen} />}\n            label=\"Open\"\n          />\n          <FormControlLabel\n            value=\"closed\"\n            control={<Radio color=\"default\" className={classes.radioRed} />}\n            label=\"Closed\"\n          />\n          <FormControlLabel\n            value=\"both\"\n            control={<Radio color=\"default\" />}\n            label=\"Both\"\n          />\n        </RadioGroup>\n      </FormControl>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport {\n  Card,\n  CardActionArea,\n  CardContent,\n  Grid,\n  Typography,\n} from \"@material-ui/core\";\nimport { Comment, ErrorOutline, CheckCircleOutline } from \"@material-ui/icons\";\nimport { green, red } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      minWidth: 275,\n      margin: `0px auto ${theme.spacing(2)}px auto`,\n    },\n    cardContent: {\n      paddingLeft: 0,\n      paddingRight: 0,\n      \"&:last-child\": {\n        paddingBottom: theme.spacing(2),\n      },\n    },\n    subTitle: {\n      fontSize: 12,\n    },\n    issueOpenIcon: {\n      color: green[400],\n    },\n    issueClosedIcon: {\n      color: red[600],\n    },\n  })\n);\n\ninterface IssueProps {\n  number: number;\n  title: string;\n  state: \"OPEN\" | \"CLOSED\";\n  createdAt: string;\n  authorLogin: string;\n  totalCommentCount: number;\n}\n\nexport const IssueListItem: React.FC<IssueProps> = ({\n  number,\n  title,\n  state,\n  createdAt,\n  authorLogin,\n  totalCommentCount,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root} variant=\"outlined\">\n      <CardActionArea component={RouterLink} to={`/${number}`}>\n        <CardContent className={classes.cardContent}>\n          <Grid container justify=\"space-between\" alignItems=\"stretch\">\n            <Grid\n              item\n              xs={2}\n              md={1}\n              container\n              alignItems=\"center\"\n              justify=\"center\"\n            >\n              {state === \"OPEN\" ? (\n                <ErrorOutline className={classes.issueOpenIcon} />\n              ) : (\n                <CheckCircleOutline className={classes.issueClosedIcon} />\n              )}\n            </Grid>\n            <Grid\n              item\n              xs={8}\n              md={10}\n              container\n              justify=\"space-around\"\n              alignItems=\"flex-start\"\n              direction=\"column\"\n            >\n              <Typography variant=\"h6\" component=\"h2\">\n                {title}\n              </Typography>\n              <Typography className={classes.subTitle} color=\"textSecondary\">\n                #{number} opened on {createdAt} by {authorLogin}\n              </Typography>\n            </Grid>\n            <Grid\n              item\n              xs={2}\n              md={1}\n              container\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              <Comment />\n              <Typography variant=\"body2\">{totalCommentCount}</Typography>\n            </Grid>\n          </Grid>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n","import React from \"react\";\n\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { Fab } from \"@material-ui/core\";\nimport { MoreHoriz } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      \"text-align\": \"center\",\n    },\n  })\n);\n\nexport const LoadMore: React.FC<{\n  loadMore: () => void;\n}> = ({ loadMore }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Fab\n        size=\"medium\"\n        color=\"primary\"\n        variant=\"extended\"\n        onClick={(): void => loadMore()}\n      >\n        <MoreHoriz />\n        Load more\n      </Fab>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { Link, Typography } from \"@material-ui/core\";\nimport { ApolloError } from \"@apollo/client\";\n\nimport { repository as packageRepository } from \"../../package.json\";\n\nconst ErrorDetails: React.FC<{ details: string }> = ({ details }) => (\n  <div>\n    <br />\n    <Typography variant=\"subtitle2\">Error details:</Typography>\n    <Typography variant=\"overline\">{details}</Typography>\n  </div>\n);\n\nexport const UnauthenticatedError: React.FC<{}> = () => (\n  <Alert severity=\"warning\">\n    <AlertTitle>Missing GitHub access token</AlertTitle>\n    Please provide a GitHub personal access token in the{\" \"}\n    <RouterLink to=\"/settings\">settings page</RouterLink>.\n  </Alert>\n);\n\nconst BadCredentialsError: React.FC<{}> = () => (\n  <Alert severity=\"error\">\n    <AlertTitle>Invalid GitHub access token</AlertTitle>\n    Please make sure you have the correct GitHub personal access token it in the{\" \"}\n    <RouterLink to=\"/settings\">settings</RouterLink> and that it has the\n    required scopes (i.e public_repo).\n  </Alert>\n);\n\nconst GraphQLError: React.FC<{ details: string }> = ({ details }) => (\n  <Alert severity=\"error\">\n    <AlertTitle>GraphQL error</AlertTitle>A GraphQL error has occured - please\n    make sure that the schema is up to date and that the{\" \"}\n    <Link\n      href={`${packageRepository.url}/actions`}\n      target=\"_blank\"\n      rel=\"noopener\"\n      color=\"primary\"\n    >\n      project's CI pipeline\n    </Link>{\" \"}\n    is passing.\n    <ErrorDetails details={details} />\n  </Alert>\n);\n\nconst OtherError: React.FC<{ details: string }> = ({ details }) => (\n  <Alert severity=\"error\">\n    <AlertTitle>An unknown error has occured</AlertTitle>\n    Please try again or open an issue in the{\" \"}\n    <Link\n      href={packageRepository.url}\n      target=\"_blank\"\n      rel=\"noopener\"\n      color=\"primary\"\n    >\n      project's repository\n    </Link>\n    <ErrorDetails details={details} />\n  </Alert>\n);\n\nexport const GithubRepositoryConfigError: React.FC<{}> = () => (\n  <Alert severity=\"error\">\n    <AlertTitle>Invalid GitHub repository</AlertTitle>\n    Please set a valid repository URL in the{\" \"}\n    <RouterLink to=\"/settings\">settings</RouterLink>\n  </Alert>\n);\n\nexport const Error: React.FC<{ error: ApolloError }> = ({ error }) => {\n  if (error.graphQLErrors.length > 0) {\n    return <GraphQLError details={error.message} />;\n  }\n\n  if (error.networkError && \"statusCode\" in error.networkError) {\n    if (error.networkError.statusCode === 401) {\n      return \"result\" in error.networkError &&\n        error.networkError.result?.message === \"Bad credentials\" ? (\n        <BadCredentialsError />\n      ) : (\n        <UnauthenticatedError />\n      );\n    }\n  }\n\n  return <OtherError details={error.message} />;\n};\n","import React from \"react\";\n\nimport { useQuery, useReactiveVar } from \"@apollo/client\";\n\nimport { LinearProgress } from \"@material-ui/core\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\n\nimport { issueTextFilter, issueStateFilter } from \"../apollo\";\nimport { graphQLPollingInterval } from \"../config\";\nimport { SearchIssues, SearchIssuesRes } from \"../graphql\";\nimport { GithubConfig, IssueStateFilter } from \"../types\";\n\nimport { Search } from \"./Search\";\nimport { IssueListItem } from \"./IssueListItem\";\nimport { LoadMore } from \"./LoadMore\";\nimport { Error } from \"./Error\";\n\nconst IssueListItems: React.FC<{\n  githubRepositoryOwner: string;\n  githubRepositoryName: string;\n}> = ({ githubRepositoryOwner, githubRepositoryName }) => {\n  const query: string[] = [\n    `repo:${githubRepositoryOwner}/${githubRepositoryName}`,\n    `is:issue`,\n    `sort:created`,\n    useReactiveVar(issueTextFilter),\n    ...(useReactiveVar(issueStateFilter) === IssueStateFilter.open\n      ? [\"is:open\"]\n      : []),\n    ...(useReactiveVar(issueStateFilter) === IssueStateFilter.closed\n      ? [\"is:closed\"]\n      : []),\n  ];\n\n  const {\n    loading,\n    error,\n    data,\n    fetchMore,\n    startPolling,\n    stopPolling,\n  } = useQuery<SearchIssuesRes>(SearchIssues, {\n    variables: {\n      query: query.join(\" \"),\n    },\n  });\n\n  // Once data is loaded - poll for new issues (re-run the query periodically)\n  // TODO: pass the `before` param to the GQL query based on the data.search.pageInfo.startCursor\n  // (so that existing data is not re-fetched)\n  // Can be implemented once either of these Apollo client features are implemented:\n  // https://github.com/apollographql/apollo-feature-requests/issues/176\n  // https://github.com/apollographql/apollo-feature-requests/issues/226\n  React.useEffect(() => {\n    if (\n      graphQLPollingInterval > 0 &&\n      !loading &&\n      data &&\n      data?.search?.edges?.length > 0\n    ) {\n      startPolling(graphQLPollingInterval);\n      return (): void => {\n        stopPolling();\n      };\n    }\n  }, [loading, data, startPolling, stopPolling]);\n\n  if (loading) return <LinearProgress />;\n  if (error) return <Error error={error} />;\n  if (!data || data.search.edges.length === 0)\n    return (\n      <Alert severity=\"info\">\n        <AlertTitle>No issues found</AlertTitle>\n      </Alert>\n    );\n\n  const fetchMoreIssues = (): void => {\n    fetchMore({\n      variables: {\n        after: data.search.pageInfo.endCursor,\n      },\n    });\n  };\n\n  return (\n    <>\n      {data.search.edges.map(\n        ({\n          node: {\n            id,\n            number,\n            title,\n            state,\n            createdAt,\n            author: { login: authorLogin },\n            comments: { totalCount: totalCommentCount },\n          },\n        }) => (\n          <IssueListItem\n            {...{\n              number,\n              title,\n              state,\n              createdAt,\n              authorLogin,\n              totalCommentCount,\n            }}\n            key={id}\n          />\n        )\n      )}\n      {data.search.pageInfo.hasNextPage && (\n        <LoadMore loadMore={fetchMoreIssues} />\n      )}\n    </>\n  );\n};\n\nexport const IssueList: React.FC<{\n  githubConfig: Required<GithubConfig>;\n}> = ({ githubConfig }) => {\n  return (\n    <>\n      <Search />\n      <IssueListItems\n        {...{\n          githubRepositoryName: githubConfig.repositoryName,\n          githubRepositoryOwner: githubConfig.repositoryOwner,\n        }}\n      />\n    </>\n  );\n};\n","import React from \"react\";\n\nimport htmlParser from \"html-react-parser\";\nimport DOMPurify from \"dompurify\";\n\nimport \"github-markdown-css\";\n\nexport const CommentBody: React.FC<{\n  bodyHTML: string;\n}> = ({ bodyHTML }) => {\n  return (\n    <div className=\"markdown-body\">\n      {htmlParser(DOMPurify.sanitize(bodyHTML))}\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport {\n  Avatar,\n  CardContent,\n  CardHeader,\n  Link,\n  Card,\n  Grid,\n  Chip,\n  IconButton,\n  Typography,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { ErrorOutline, CheckCircleOutline, GitHub } from \"@material-ui/icons\";\nimport { green, red } from \"@material-ui/core/colors\";\n\nimport { CommentBody } from \"./CommentBody\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginBottom: theme.spacing(1),\n    },\n    header: {\n      \"& > .MuiCardHeader-avatar\": {\n        marginRight: theme.spacing(1),\n      },\n    },\n    avatarRoot: {\n      width: theme.spacing(5),\n      height: theme.spacing(5),\n    },\n    avatarComment: {\n      width: theme.spacing(3),\n      height: theme.spacing(3),\n    },\n    issueStatusChip: {\n      color: \"white\",\n      marginLeft: theme.spacing(1),\n    },\n    issueStatusChipOpen: {\n      backgroundColor: green[400],\n    },\n    issueStatusChipClosed: {\n      backgroundColor: red[600],\n    },\n    issueStatusIcon: {\n      color: \"white\",\n    },\n  })\n);\n\ninterface IssueCommentProps {\n  isRootComment: boolean;\n  issueNumber?: number;\n  issueStatus?: \"OPEN\" | \"CLOSED\";\n  issueTitle?: string;\n  issueUrl?: string;\n  createdAt: string;\n  authorLogin: string;\n  authorUrl: string;\n  authorAvatarUrl: string;\n  bodyHTML: string;\n}\n\nexport const IssueComment: React.FC<IssueCommentProps> = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root} variant=\"outlined\">\n      <CardHeader\n        avatar={\n          <Avatar\n            alt={props.authorLogin}\n            src={props.authorAvatarUrl}\n            className={\n              props.isRootComment ? classes.avatarRoot : classes.avatarComment\n            }\n          >\n            {props.authorLogin.substr(0, 1)}\n          </Avatar>\n        }\n        title={props.isRootComment ? props.issueTitle : undefined}\n        titleTypographyProps={{ variant: \"h5\" }}\n        subheader={\n          <Grid container alignItems=\"center\">\n            <span>\n              <Link href={props.authorUrl} target=\"_blank\" rel=\"noopener\">\n                {props.authorLogin}\n              </Link>{\" \"}\n              on {props.createdAt}\n            </span>\n            {props.isRootComment && props.issueStatus === \"OPEN\" ? (\n              <Chip\n                label=\"Open\"\n                size=\"small\"\n                icon={<ErrorOutline className={classes.issueStatusIcon} />}\n                className={`${classes.issueStatusChip} ${classes.issueStatusChipOpen}`}\n              />\n            ) : props.issueStatus === \"CLOSED\" ? (\n              <Chip\n                label=\"Closed\"\n                size=\"small\"\n                icon={\n                  <CheckCircleOutline className={classes.issueStatusIcon} />\n                }\n                className={`${classes.issueStatusChip} ${classes.issueStatusChipClosed}`}\n              />\n            ) : undefined}\n          </Grid>\n        }\n        action={\n          props.isRootComment ? (\n            <IconButton\n              aria-label=\"settings\"\n              component={Link}\n              href={props.issueUrl}\n              target=\"_blank\"\n              rel=\"noopener\"\n              color=\"primary\"\n            >\n              <Grid container direction=\"column\" alignItems=\"center\">\n                <GitHub />\n                <Typography variant=\"body2\">#{props.issueNumber}</Typography>\n              </Grid>\n            </IconButton>\n          ) : undefined\n        }\n        className={classes.header}\n      />\n      <CardContent>\n        <CommentBody bodyHTML={props.bodyHTML} />\n      </CardContent>\n    </Card>\n  );\n};\n","import React from \"react\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { LinearProgress } from \"@material-ui/core\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\n\nimport { GetIssueComments, GetIssueCommentsRes } from \"../graphql\";\nimport { GithubConfig } from \"../types\";\n\nimport { IssueComment } from \"./IssueComment\";\nimport { LoadMore } from \"./LoadMore\";\nimport { Error } from \"./Error\";\n\nexport const IssueCommentList: React.FC<{\n  githubConfig: Required<GithubConfig>;\n  issueNumber: number;\n}> = ({ githubConfig, issueNumber }) => {\n  const { loading, error, data, fetchMore } = useQuery<GetIssueCommentsRes>(\n    GetIssueComments,\n    {\n      variables: {\n        githubRepositoryName: githubConfig.repositoryName,\n        githubRepositoryOwner: githubConfig.repositoryOwner,\n        issueNumber,\n      },\n    }\n  );\n\n  if (loading) return <LinearProgress />;\n  if (error) return <Error error={error} />;\n  if (!data || data.repository.issue.comments.edges.length === 0)\n    return (\n      <Alert severity=\"info\">\n        <AlertTitle>No comments yets</AlertTitle>\n      </Alert>\n    );\n\n  const fetchMoreComments = (): void => {\n    fetchMore({\n      variables: {\n        after: data.repository.issue.comments.pageInfo.endCursor,\n      },\n    });\n  };\n\n  return (\n    <>\n      {data.repository.issue.comments.edges.map(\n        ({\n          node: {\n            author: {\n              login: authorLogin,\n              url: authorUrl,\n              avatarUrl: authorAvatarUrl,\n            },\n            bodyHTML,\n            createdAt,\n            id,\n          },\n        }) => (\n          <IssueComment\n            {...{\n              isRootComment: false,\n              createdAt,\n              authorLogin,\n              authorUrl,\n              authorAvatarUrl,\n              bodyHTML,\n            }}\n            key={id}\n          />\n        )\n      )}\n      {data.repository.issue.comments.pageInfo.hasNextPage && (\n        <LoadMore loadMore={fetchMoreComments} />\n      )}\n    </>\n  );\n};\n","import React from \"react\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { useParams } from \"react-router-dom\";\nimport { LinearProgress } from \"@material-ui/core\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\nimport { GetIssue, GetIssueRes } from \"../graphql\";\nimport { Error } from \"./Error\";\nimport { GithubConfig } from \"../types\";\n\nimport { IssueCommentList } from \"./IssueCommentList\";\nimport { IssueComment } from \"./IssueComment\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingBottom: theme.spacing(5),\n    },\n  })\n);\n\nexport const Issue: React.FC<{\n  githubConfig: Required<GithubConfig>;\n}> = ({ githubConfig }) => {\n  const classes = useStyles();\n\n  const { issueNumber: issueNumberParam } = useParams();\n  const issueNumber = parseInt(issueNumberParam, 10);\n\n  const { loading, error, data } = useQuery<GetIssueRes>(GetIssue, {\n    variables: {\n      githubRepositoryOwner: githubConfig.repositoryOwner,\n      githubRepositoryName: githubConfig.repositoryName,\n      issueNumber,\n    },\n  });\n\n  if (loading) return <LinearProgress />;\n  if (error) return <Error error={error} />;\n  if (!data || !data.repository.issue)\n    return (\n      <Alert severity=\"warning\">\n        <AlertTitle>Issue not found</AlertTitle>\n      </Alert>\n    );\n  const { issue } = data.repository;\n\n  return (\n    <div className={classes.root}>\n      <IssueComment\n        {...{\n          isRootComment: true,\n          issueNumber,\n          issueStatus: issue.state,\n          issueTitle: issue.title,\n          issueUrl: issue.url,\n          createdAt: issue.createdAt,\n          authorLogin: issue.author.login,\n          authorUrl: issue.author.url,\n          authorAvatarUrl: issue.author.avatarUrl,\n          bodyHTML: issue.bodyHTML,\n        }}\n      />\n\n      <IssueCommentList githubConfig={githubConfig} issueNumber={issueNumber} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { ApolloProvider } from \"@apollo/client\";\nimport { Container } from \"@material-ui/core\";\n\nimport { useStickyState } from \"../helpers\";\nimport { defaultGitHubRepository, githubRepositoryRegex } from \"../config\";\nimport { GithubConfig } from \"../types\";\nimport { createApolloClient } from \"../apollo\";\n\nimport { Navigation } from \"./Navigation\";\nimport { Settings } from \"./Settings\";\nimport { IssueList } from \"./IssueList\";\nimport { Issue } from \"./Issue\";\nimport { UnauthenticatedError, GithubRepositoryConfigError } from \"./Error\";\nimport \"./app.css\";\n\nconst AuthWrapper: React.FC<{\n  githubConfig: GithubConfig;\n}> = ({ githubConfig, children }) => {\n  if (!githubConfig.repositoryOwner || !githubConfig.repositoryName) {\n    return <GithubRepositoryConfigError />;\n  }\n  if (!githubConfig.token) {\n    return <UnauthenticatedError />;\n  }\n\n  return <>{children}</>;\n};\n\nexport const App: React.FC<{}> = () => {\n  const apolloClient = createApolloClient();\n  const deleteApolloCache = (): void => {\n    apolloClient.resetStore();\n  };\n\n  const [githubRepositoryUrl, setGithubRepositoryUrl] = useStickyState<string>(\n    \"githubRepositoryUrl\",\n    defaultGitHubRepository\n  );\n  const [githubToken, setGithubToken] = useStickyState<string>(\n    \"githubToken\",\n    \"\"\n  );\n\n  const githubRepositoryMatch = githubRepositoryUrl.match(\n    githubRepositoryRegex\n  );\n  const githubConfig: GithubConfig = {\n    token: githubToken,\n    setToken: setGithubToken,\n    repositoryUrl: githubRepositoryUrl,\n    setRepositoryUrl: setGithubRepositoryUrl,\n    repositoryOwner: githubRepositoryMatch?.groups?.owner,\n    repositoryName: githubRepositoryMatch?.groups?.name,\n  };\n\n  React.useEffect(deleteApolloCache, [githubRepositoryUrl, githubToken]);\n\n  return (\n    <ApolloProvider client={apolloClient}>\n      <Router\n        basename={\n          // GitHub pages navigation workaround\n          // see https://github.com/rafgraph/spa-github-pages#single-page-apps-for-github-pages\n          process.env.NODE_ENV === \"production\"\n            ? \"/mms-github-issue-explorer\"\n            : \"/\"\n        }\n      >\n        <Navigation />\n\n        <Container maxWidth=\"md\">\n          <Switch>\n            <Route path=\"/settings\">\n              <Settings githubConfig={githubConfig} />\n            </Route>\n            <Route path=\"/:issueNumber\">\n              <AuthWrapper githubConfig={githubConfig}>\n                <Issue githubConfig={githubConfig as Required<GithubConfig>} />\n              </AuthWrapper>\n            </Route>\n            <Route path=\"/\">\n              <AuthWrapper githubConfig={githubConfig}>\n                <IssueList\n                  githubConfig={githubConfig as Required<GithubConfig>}\n                />\n              </AuthWrapper>\n            </Route>\n          </Switch>\n        </Container>\n      </Router>\n    </ApolloProvider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { App } from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}