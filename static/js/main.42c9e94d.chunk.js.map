{"version":3,"sources":["helpers.ts","config.ts","components/Navigation.tsx","components/Settings.tsx","graphql/SearchIssues.ts","graphql/GetIssue.ts","graphql/GetIssueComments.ts","graphql/common.ts","components/Search.tsx","components/IssueListItem.tsx","components/LoadMore.tsx","components/Error.tsx","components/IssueList.tsx","components/CommentBody.tsx","components/IssueComment.tsx","components/IssueCommentList.tsx","components/Issue.tsx","components/App.tsx","apollo.ts","index.tsx"],"names":["readKeyFromLocalStorage","localStorageKey","defaultValue","localStorageValue","localStorage","getItem","JSON","parse","useStickyState","initialValue","React","useState","value","setValue","useEffect","setItem","stringify","githubRepositoryRegex","RegExp","useStyles","makeStyles","theme","createStyles","appBar","color","marginBottom","spacing","title","Navigation","classes","AppBar","position","className","Toolbar","Grid","justify","alignItems","container","item","Button","aria-label","component","RouterLink","to","startIcon","GitHub","fontSize","Typography","variant","endIcon","field","marginTop","marginLeft","marginRight","width","GithubSettingsTextField","id","fieldRegex","label","placeholder","helperText","helperTextError","isValid","test","isTouched","setTouched","FormControl","error","TextField","required","onChange","newValue","target","onFocus","InputLabelProps","shrink","inputProps","spellCheck","Settings","githubConfig","noValidate","autoComplete","md","wrap","repositoryUrl","setRepositoryUrl","token","setToken","Link","href","rel","SearchIssues","gql","GetIssue","IssueState","GetIssueComments","IssueStateFilter","root","margin","issueStateFilter","radioGreen","green","radioRed","red","Search","setIssueStateFilter","issueTextFilter","setIssueTextFilter","currentSearchValue","setCurrentSearchValue","cancelOnEscape","onRequestSearch","onCancelSearch","console","log","RadioGroup","row","name","FormControlLabel","control","Radio","minWidth","cardContent","paddingLeft","paddingRight","paddingBottom","subTitle","issueOpenIcon","issueClosedIcon","IssueListItem","number","state","createdAt","authorLogin","totalCommentCount","Card","CardActionArea","CardContent","xs","ErrorOutline","CheckCircleOutline","direction","Comment","LoadMore","loadMore","Fab","size","onClick","MoreHoriz","ErrorDetails","details","UnauthenticatedError","Alert","severity","AlertTitle","BadCredentialsError","GraphQLError","packageRepository","url","OtherError","GithubRepositoryConfigError","Error","graphQLErrors","length","message","networkError","statusCode","result","IssueListItems","githubRepositoryOwner","githubRepositoryName","query","open","closed","useQuery","variables","join","loading","data","fetchMore","startPolling","stopPolling","search","edges","LinearProgress","map","node","author","login","comments","totalCount","key","pageInfo","hasNextPage","after","endCursor","IssueList","both","repositoryName","repositoryOwner","CommentBody","bodyHTML","htmlParser","DOMPurify","sanitize","header","avatarRoot","height","avatarComment","issueStatusChip","issueStatusChipOpen","backgroundColor","issueStatusChipClosed","issueStatusIcon","IssueComment","props","CardHeader","avatar","Avatar","alt","src","authorAvatarUrl","isRootComment","substr","issueTitle","undefined","titleTypographyProps","subheader","authorUrl","issueStatus","Chip","icon","action","IconButton","issueUrl","issueNumber","IssueCommentList","repository","issue","avatarUrl","Issue","issueNumberParam","useParams","parseInt","AuthWrapper","children","App","apolloClient","httpLink","createHttpLink","uri","authLink","setContext","_","headers","githubToken","authorization","ApolloClient","link","concat","cache","InMemoryCache","typePolicies","User","keyFields","Repository","fields","relayStylePagination","Query","connectToDevTools","createApolloClient","githubRepositoryUrl","setGithubRepositoryUrl","setGithubToken","githubRepositoryMatch","match","groups","owner","resetStore","client","basename","Container","maxWidth","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42c9e94d.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const readKeyFromLocalStorage = <T>(\n  localStorageKey: string,\n  defaultValue: T\n): T => {\n  const localStorageValue = localStorage.getItem(localStorageKey);\n  return localStorageValue\n    ? (JSON.parse(localStorageValue) as T)\n    : defaultValue;\n};\n\nexport const useStickyState = <T>(\n  localStorageKey: string,\n  defaultValue: T\n): [T, React.Dispatch<React.SetStateAction<T>>] => {\n  const initialValue = readKeyFromLocalStorage(localStorageKey, defaultValue);\n\n  const [value, setValue] = React.useState<T>(initialValue);\n\n  const storeValueInLocalStorage = (): void =>\n    localStorage.setItem(localStorageKey, JSON.stringify(value));\n\n  React.useEffect(storeValueInLocalStorage, [value]);\n\n  return [value, setValue];\n};\n","export const defaultGitHubRepository = \"https://github.com/facebook/react\";\n// https://regex101.com/r/8IgFO1/2/\nexport const githubRepositoryRegex = new RegExp(\n  \"^https?://github.com/(?<owner>.+?)/(?<name>.+?)(?:/|$)\"\n);\nexport const githubGraphQLEndpoint = \"https://api.github.com/graphql\";\n// polling interval for re-fetching the newest set of results\n// (in the issues and comments lists)\nexport const graphQLPollingInterval = 30000;\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { AppBar, Button, Toolbar, Typography, Grid } from \"@material-ui/core\";\nimport { Settings, GitHub } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    appBar: {\n      color: \"#fff\",\n      marginBottom: theme.spacing(3),\n    },\n    title: {\n      \"text-transform\": \"none\",\n    },\n  })\n);\n\nexport const Navigation: React.FC<{}> = () => {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"static\" className={classes.appBar}>\n      <Toolbar>\n        <Grid justify=\"space-between\" alignItems=\"center\" container>\n          <Grid item>\n            <Button\n              aria-label=\"home\"\n              component={RouterLink}\n              to=\"/\"\n              color=\"inherit\"\n              startIcon={<GitHub fontSize=\"small\" />}\n            >\n              <Typography variant=\"h6\" className={classes.title}>\n                MMS GitHub Issue Explorer\n              </Typography>\n            </Button>\n          </Grid>\n\n          <Grid item>\n            <Button\n              component={RouterLink}\n              to=\"/settings\"\n              endIcon={<Settings />}\n              color=\"inherit\"\n            >\n              Settings\n            </Button>\n          </Grid>\n        </Grid>\n      </Toolbar>\n    </AppBar>\n  );\n};\n","import React from \"react\";\n\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Grid, Link, TextField, FormControl } from \"@material-ui/core\";\n\nimport { defaultGitHubRepository, githubRepositoryRegex } from \"../config\";\nimport { GithubConfig } from \"../types\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    field: {\n      marginTop: theme.spacing(3),\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2),\n      width: \"100%\",\n    },\n  })\n);\n\ninterface GithubSettingsTextFieldProps {\n  id: string;\n  value?: string;\n  setValue: React.Dispatch<React.SetStateAction<string>>;\n  fieldRegex: RegExp;\n  label: string;\n  placeholder: string;\n  helperText: React.ReactNode;\n  helperTextError?: React.ReactNode;\n}\n\nconst GithubSettingsTextField: React.FC<GithubSettingsTextFieldProps> = ({\n  id,\n  value,\n  setValue,\n  fieldRegex,\n  label,\n  placeholder,\n  helperText,\n  helperTextError,\n}) => {\n  const classes = useStyles();\n\n  const isValid = (): boolean => fieldRegex.test(value || \"\");\n  const [isTouched, setTouched] = React.useState<boolean>(false);\n\n  return (\n    <FormControl error={isTouched && !isValid()} className={classes.field}>\n      <TextField\n        id={id}\n        required={true}\n        error={isTouched && !isValid()}\n        value={value}\n        onChange={({\n          target: { value: newValue },\n        }: React.ChangeEvent<HTMLInputElement>): void => setValue(newValue)}\n        onFocus={(): void => setTouched(true)}\n        label={label}\n        placeholder={placeholder}\n        helperText={\n          isTouched && !isValid() ? helperTextError || helperText : helperText\n        }\n        InputLabelProps={{\n          shrink: true,\n        }}\n        inputProps={{ spellCheck: \"false\" }}\n      />\n    </FormControl>\n  );\n};\n\nexport const Settings: React.FC<{\n  githubConfig: GithubConfig;\n}> = ({ githubConfig }) => (\n  <form noValidate autoComplete=\"off\">\n    <Grid\n      container\n      item={true}\n      md={10}\n      wrap=\"wrap\"\n      justify=\"space-between\"\n      alignItems=\"flex-end\"\n    >\n      <GithubSettingsTextField\n        id=\"githubRepository\"\n        value={githubConfig.repositoryUrl}\n        setValue={githubConfig.setRepositoryUrl}\n        fieldRegex={githubRepositoryRegex}\n        label=\"GitHub repository\"\n        placeholder={defaultGitHubRepository}\n        helperText={<span>Enter the full GitHub repository URL</span>}\n        helperTextError={\n          <span>\n            Invalid GitHub repository - use the following format:\n            <br />\n            <strong>{defaultGitHubRepository}</strong>\n          </span>\n        }\n      />\n\n      <GithubSettingsTextField\n        id=\"githubToken\"\n        value={githubConfig.token}\n        setValue={githubConfig.setToken}\n        fieldRegex={new RegExp(\"(.+)\")}\n        label=\"GitHub personal access token\"\n        placeholder=\"token\"\n        helperText={\n          <span>\n            Create a personal access token on GitHub with the public_repo scope\n            -{\" \"}\n            <Link\n              href=\"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token\"\n              target=\"_blank\"\n              rel=\"noopener\"\n              color=\"primary\"\n            >\n              official guide\n            </Link>\n          </span>\n        }\n      />\n    </Grid>\n  </form>\n);\n","import { gql } from \"@apollo/client\";\n\nimport { IssuePreview, PageInfo } from \"./common\";\n\nexport const SearchIssues = gql`\n  query SearchIssues($query: String!, $after: String) {\n    search(type: ISSUE, query: $query, last: 10, after: $after) {\n      edges {\n        node {\n          ... on Issue {\n            author {\n              login\n            }\n            comments {\n              totalCount\n            }\n            id\n            number\n            state\n            title\n            createdAt\n          }\n        }\n      }\n      pageInfo {\n        startCursor\n        hasPreviousPage\n        hasNextPage\n        endCursor\n      }\n    }\n  }\n`;\n\ninterface SearchIssuesEdge {\n  node: IssuePreview;\n}\n\nexport interface SearchIssuesRes {\n  search: {\n    edges: SearchIssuesEdge[];\n    pageInfo: PageInfo;\n  };\n}\n","import { gql } from \"@apollo/client\";\n\nimport { Issue } from \"./common\";\n\nexport const GetIssue = gql`\n  query GetIssue(\n    $githubRepositoryName: String!\n    $githubRepositoryOwner: String!\n    $issueNumber: Int!\n  ) {\n    repository(name: $githubRepositoryName, owner: $githubRepositoryOwner) {\n      issue(number: $issueNumber) {\n        id\n        number\n        state\n        title\n        url\n        author {\n          avatarUrl(size: 40)\n          login\n          url\n        }\n        bodyHTML\n        createdAt\n      }\n    }\n  }\n`;\n\nexport interface GetIssueRes {\n  repository: {\n    issue: Issue;\n  };\n}\n","import { gql } from \"@apollo/client\";\n\nimport { Author, PageInfo } from \"./common\";\n\nexport const GetIssueComments = gql`\n  query GetIssueComments(\n    $githubRepositoryName: String!\n    $githubRepositoryOwner: String!\n    $issueNumber: Int!\n    $after: String\n  ) {\n    repository(name: $githubRepositoryName, owner: $githubRepositoryOwner) {\n      issue(number: $issueNumber) {\n        id\n        comments(first: 10, after: $after) {\n          edges {\n            node {\n              id\n              createdAt\n              author {\n                login\n                avatarUrl\n                url\n              }\n              bodyHTML\n            }\n          }\n          pageInfo {\n            startCursor\n            hasPreviousPage\n            hasNextPage\n            endCursor\n          }\n        }\n      }\n    }\n  }\n`;\n\ninterface IssueComment {\n  id: string;\n  createdAt: string;\n  author: Author;\n  bodyHTML: string;\n}\n\ninterface GetIssueCommentsEdge {\n  node: IssueComment;\n}\n\nexport interface GetIssueCommentsRes {\n  repository: {\n    issue: {\n      id: string;\n      comments: {\n        edges: GetIssueCommentsEdge[];\n        pageInfo: PageInfo;\n      };\n    };\n  };\n}\n","export interface Author {\n  login: string;\n  avatarUrl: string;\n  url: string;\n}\n\nexport interface PageInfo {\n  startCursor: string;\n  hasPreviousPage: boolean;\n  hasNextPage: boolean;\n  endCursor: string;\n}\n\nexport enum IssueState {\n  OPEN = \"OPEN\",\n  CLOSED = \"CLOSED\",\n}\n\nexport interface IssuePreview {\n  createdAt: string;\n  state: IssueState;\n  comments: {\n    totalCount: number;\n  };\n  author: Pick<Author, \"login\">;\n  title: string;\n  number: number;\n  id: string;\n}\n\nexport interface Issue extends IssuePreview {\n  url: string;\n  author: Author;\n  bodyHTML: string;\n}\n","import React from \"react\";\n\nimport SearchBar from \"material-ui-search-bar\";\n\nimport {\n  FormControl,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { green, red } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      margin: `0 auto`,\n      \"text-align\": \"right\",\n    },\n    issueStateFilter: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    },\n    radioGreen: {\n      color: green[400],\n    },\n    radioRed: {\n      color: red[400],\n    },\n  })\n);\n\nexport enum IssueStateFilter {\n  open = \"open\",\n  closed = \"closed\",\n  both = \"both\",\n}\n\nexport const Search: React.FC<{\n  issueStateFilter: IssueStateFilter;\n  setIssueStateFilter: React.Dispatch<React.SetStateAction<IssueStateFilter>>;\n  issueTextFilter: string;\n  setIssueTextFilter: React.Dispatch<React.SetStateAction<string>>;\n}> = ({\n  issueStateFilter,\n  setIssueStateFilter,\n  issueTextFilter,\n  setIssueTextFilter,\n}) => {\n  const classes = useStyles();\n\n  const [currentSearchValue, setCurrentSearchValue] = React.useState<string>(\n    \"\"\n  );\n\n  return (\n    <div className={classes.root}>\n      <SearchBar\n        cancelOnEscape={true}\n        value={issueTextFilter}\n        onChange={(value): void => setCurrentSearchValue(value)}\n        onRequestSearch={(): void => setIssueTextFilter(currentSearchValue)}\n        onCancelSearch={(): void => {\n          console.log(\"cancel\");\n          setIssueTextFilter(\"\");\n          setCurrentSearchValue(\"\");\n        }}\n      />\n      <FormControl component=\"fieldset\" className={classes.issueStateFilter}>\n        <RadioGroup\n          row\n          aria-label=\"issueStateFilter\"\n          name=\"issueStateFilter\"\n          value={issueStateFilter}\n          onChange={({\n            target: { value },\n          }: React.ChangeEvent<HTMLInputElement>): void =>\n            setIssueStateFilter(value as IssueStateFilter)\n          }\n        >\n          <FormControlLabel\n            value=\"open\"\n            control={<Radio color=\"default\" className={classes.radioGreen} />}\n            label=\"Open\"\n          />\n          <FormControlLabel\n            value=\"closed\"\n            control={<Radio color=\"default\" className={classes.radioRed} />}\n            label=\"Closed\"\n          />\n          <FormControlLabel\n            value=\"both\"\n            control={<Radio color=\"default\" />}\n            label=\"Both\"\n          />\n        </RadioGroup>\n      </FormControl>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport {\n  Card,\n  CardActionArea,\n  CardContent,\n  Grid,\n  Typography,\n} from \"@material-ui/core\";\nimport { Comment, ErrorOutline, CheckCircleOutline } from \"@material-ui/icons\";\nimport { green, red } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      minWidth: 275,\n      margin: `0px auto ${theme.spacing(2)}px auto`,\n    },\n    cardContent: {\n      paddingLeft: 0,\n      paddingRight: 0,\n      \"&:last-child\": {\n        paddingBottom: theme.spacing(2),\n      },\n    },\n    subTitle: {\n      fontSize: 12,\n    },\n    issueOpenIcon: {\n      color: green[400],\n    },\n    issueClosedIcon: {\n      color: red[600],\n    },\n  })\n);\n\ninterface IssueProps {\n  number: number;\n  title: string;\n  state: \"OPEN\" | \"CLOSED\";\n  createdAt: string;\n  authorLogin: string;\n  totalCommentCount: number;\n}\n\nexport const IssueListItem: React.FC<IssueProps> = ({\n  number,\n  title,\n  state,\n  createdAt,\n  authorLogin,\n  totalCommentCount,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root} variant=\"outlined\">\n      <CardActionArea component={RouterLink} to={`/${number}`}>\n        <CardContent className={classes.cardContent}>\n          <Grid container justify=\"space-between\" alignItems=\"stretch\">\n            <Grid\n              item\n              xs={2}\n              md={1}\n              container\n              alignItems=\"center\"\n              justify=\"center\"\n            >\n              {state === \"OPEN\" ? (\n                <ErrorOutline className={classes.issueOpenIcon} />\n              ) : (\n                <CheckCircleOutline className={classes.issueClosedIcon} />\n              )}\n            </Grid>\n            <Grid\n              item\n              xs={8}\n              md={10}\n              container\n              justify=\"space-around\"\n              alignItems=\"flex-start\"\n              direction=\"column\"\n            >\n              <Typography variant=\"h6\" component=\"h2\">\n                {title}\n              </Typography>\n              <Typography className={classes.subTitle} color=\"textSecondary\">\n                #{number} opened on {createdAt} by {authorLogin}\n              </Typography>\n            </Grid>\n            <Grid\n              item\n              xs={2}\n              md={1}\n              container\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              <Comment />\n              <Typography variant=\"body2\">{totalCommentCount}</Typography>\n            </Grid>\n          </Grid>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n","import React from \"react\";\n\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { Fab } from \"@material-ui/core\";\nimport { MoreHoriz } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      \"text-align\": \"center\",\n    },\n  })\n);\n\nexport const LoadMore: React.FC<{\n  loadMore: () => void;\n}> = ({ loadMore }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Fab\n        size=\"medium\"\n        color=\"primary\"\n        variant=\"extended\"\n        onClick={(): void => loadMore()}\n      >\n        <MoreHoriz />\n        Load more\n      </Fab>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { Link, Typography } from \"@material-ui/core\";\nimport { ApolloError } from \"@apollo/client\";\n\nimport { repository as packageRepository } from \"../../package.json\";\n\nconst ErrorDetails: React.FC<{ details: string }> = ({ details }) => (\n  <div>\n    <br />\n    <Typography variant=\"subtitle2\">Error details:</Typography>\n    <Typography variant=\"overline\">{details}</Typography>\n  </div>\n);\n\nexport const UnauthenticatedError: React.FC<{}> = () => (\n  <Alert severity=\"warning\">\n    <AlertTitle>Missing GitHub access token</AlertTitle>\n    Please provide a GitHub personal access token in the{\" \"}\n    <RouterLink to=\"/settings\">settings page</RouterLink>.\n  </Alert>\n);\n\nconst BadCredentialsError: React.FC<{}> = () => (\n  <Alert severity=\"error\">\n    <AlertTitle>Invalid GitHub access token</AlertTitle>\n    Please make sure you have the correct GitHub personal access token it in the{\" \"}\n    <RouterLink to=\"/settings\">settings</RouterLink> and that it has the\n    required scopes (i.e public_repo).\n  </Alert>\n);\n\nconst GraphQLError: React.FC<{ details: string }> = ({ details }) => (\n  <Alert severity=\"error\">\n    <AlertTitle>GraphQL error</AlertTitle>A GraphQL error has occured - please\n    make sure that the schema is up to date and that the{\" \"}\n    <Link\n      href={`${packageRepository.url}/actions`}\n      target=\"_blank\"\n      rel=\"noopener\"\n      color=\"primary\"\n    >\n      project's CI pipeline\n    </Link>{\" \"}\n    is passing.\n    <ErrorDetails details={details} />\n  </Alert>\n);\n\nconst OtherError: React.FC<{ details: string }> = ({ details }) => (\n  <Alert severity=\"error\">\n    <AlertTitle>An unknown error has occured</AlertTitle>\n    Please try again or open an issue in the{\" \"}\n    <Link\n      href={packageRepository.url}\n      target=\"_blank\"\n      rel=\"noopener\"\n      color=\"primary\"\n    >\n      project's repository\n    </Link>\n    <ErrorDetails details={details} />\n  </Alert>\n);\n\nexport const GithubRepositoryConfigError: React.FC<{}> = () => (\n  <Alert severity=\"error\">\n    <AlertTitle>Invalid GitHub repository</AlertTitle>\n    Please set a valid repository URL in the{\" \"}\n    <RouterLink to=\"/settings\">settings</RouterLink>\n  </Alert>\n);\n\nexport const Error: React.FC<{ error: ApolloError }> = ({ error }) => {\n  if (error.graphQLErrors.length > 0) {\n    return <GraphQLError details={error.message} />;\n  }\n\n  if (error.networkError && \"statusCode\" in error.networkError) {\n    if (error.networkError.statusCode === 401) {\n      return \"result\" in error.networkError &&\n        error.networkError.result?.message === \"Bad credentials\" ? (\n        <BadCredentialsError />\n      ) : (\n        <UnauthenticatedError />\n      );\n    }\n  }\n\n  return <OtherError details={error.message} />;\n};\n","import React from \"react\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { LinearProgress } from \"@material-ui/core\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\n\nimport { graphQLPollingInterval } from \"../config\";\nimport { SearchIssues, SearchIssuesRes } from \"../graphql\";\nimport { GithubConfig } from \"../types\";\n\nimport { Search, IssueStateFilter } from \"./Search\";\nimport { IssueListItem } from \"./IssueListItem\";\nimport { LoadMore } from \"./LoadMore\";\nimport { Error } from \"./Error\";\n\nconst IssueListItems: React.FC<{\n  githubRepositoryOwner: string;\n  githubRepositoryName: string;\n  issueStateFilter: IssueStateFilter;\n  issueTextFilter: string;\n}> = ({\n  githubRepositoryOwner,\n  githubRepositoryName,\n  issueStateFilter,\n  issueTextFilter,\n}) => {\n  const query: string[] = [\n    `repo:${githubRepositoryOwner}/${githubRepositoryName}`,\n    `is:issue`,\n    `sort:created`,\n    issueTextFilter,\n    ...(issueStateFilter === IssueStateFilter.open ? [\"is:open\"] : []),\n    ...(issueStateFilter === IssueStateFilter.closed ? [\"is:closed\"] : []),\n  ];\n\n  const {\n    loading,\n    error,\n    data,\n    fetchMore,\n    startPolling,\n    stopPolling,\n  } = useQuery<SearchIssuesRes>(SearchIssues, {\n    variables: {\n      query: query.join(\" \"),\n    },\n  });\n\n  // Once data is loaded - poll for new issues (re-run the query periodically)\n  // TODO: pass the `before` param to the GQL query based on the data.search.pageInfo.startCursor\n  // (so that existing data is not re-fetched)\n  // Can be implemented once either of these Apollo client features are implemented:\n  // https://github.com/apollographql/apollo-feature-requests/issues/176\n  // https://github.com/apollographql/apollo-feature-requests/issues/226\n  React.useEffect(() => {\n    if (\n      graphQLPollingInterval > 0 &&\n      !loading &&\n      data &&\n      data?.search?.edges?.length > 0\n    ) {\n      startPolling(graphQLPollingInterval);\n      return (): void => {\n        stopPolling();\n      };\n    }\n  }, [loading, data, startPolling, stopPolling]);\n\n  if (loading) return <LinearProgress />;\n  if (error) return <Error error={error} />;\n  if (!data || data.search.edges.length === 0)\n    return (\n      <Alert severity=\"info\">\n        <AlertTitle>No issues found</AlertTitle>\n      </Alert>\n    );\n\n  const fetchMoreIssues = (): void => {\n    fetchMore({\n      variables: {\n        after: data.search.pageInfo.endCursor,\n      },\n    });\n  };\n\n  return (\n    <>\n      {data.search.edges.map(\n        ({\n          node: {\n            id,\n            number,\n            title,\n            state,\n            createdAt,\n            author: { login: authorLogin },\n            comments: { totalCount: totalCommentCount },\n          },\n        }) => (\n          <IssueListItem\n            {...{\n              number,\n              title,\n              state,\n              createdAt,\n              authorLogin,\n              totalCommentCount,\n            }}\n            key={id}\n          />\n        )\n      )}\n      {data.search.pageInfo.hasNextPage && (\n        <LoadMore loadMore={fetchMoreIssues} />\n      )}\n    </>\n  );\n};\n\nexport const IssueList: React.FC<{\n  githubConfig: Required<GithubConfig>;\n}> = ({ githubConfig }) => {\n  const [issueStateFilter, setIssueStateFilter] = React.useState<\n    IssueStateFilter\n  >(IssueStateFilter.both);\n\n  const [issueTextFilter, setIssueTextFilter] = React.useState<string>(\"\");\n\n  return (\n    <>\n      <Search\n        {...{\n          issueStateFilter,\n          setIssueStateFilter,\n          issueTextFilter,\n          setIssueTextFilter,\n        }}\n      />\n      <IssueListItems\n        {...{\n          githubRepositoryName: githubConfig.repositoryName,\n          githubRepositoryOwner: githubConfig.repositoryOwner,\n          issueStateFilter,\n          issueTextFilter,\n        }}\n      />\n    </>\n  );\n};\n","import React from \"react\";\n\nimport htmlParser from \"html-react-parser\";\nimport DOMPurify from \"dompurify\";\n\nimport \"github-markdown-css\";\n\nexport const CommentBody: React.FC<{\n  bodyHTML: string;\n}> = ({ bodyHTML }) => {\n  return (\n    <div className=\"markdown-body\">\n      {htmlParser(DOMPurify.sanitize(bodyHTML))}\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport {\n  Avatar,\n  CardContent,\n  CardHeader,\n  Link,\n  Card,\n  Grid,\n  Chip,\n  IconButton,\n  Typography,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { ErrorOutline, CheckCircleOutline, GitHub } from \"@material-ui/icons\";\nimport { green, red } from \"@material-ui/core/colors\";\n\nimport { CommentBody } from \"./CommentBody\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginBottom: theme.spacing(1),\n    },\n    header: {\n      \"& > .MuiCardHeader-avatar\": {\n        marginRight: theme.spacing(1),\n      },\n    },\n    avatarRoot: {\n      width: theme.spacing(5),\n      height: theme.spacing(5),\n    },\n    avatarComment: {\n      width: theme.spacing(3),\n      height: theme.spacing(3),\n    },\n    issueStatusChip: {\n      color: \"white\",\n      marginLeft: theme.spacing(1),\n    },\n    issueStatusChipOpen: {\n      backgroundColor: green[400],\n    },\n    issueStatusChipClosed: {\n      backgroundColor: red[600],\n    },\n    issueStatusIcon: {\n      color: \"white\",\n    },\n  })\n);\n\ninterface IssueCommentProps {\n  isRootComment: boolean;\n  issueNumber?: number;\n  issueStatus?: \"OPEN\" | \"CLOSED\";\n  issueTitle?: string;\n  issueUrl?: string;\n  createdAt: string;\n  authorLogin: string;\n  authorUrl: string;\n  authorAvatarUrl: string;\n  bodyHTML: string;\n}\n\nexport const IssueComment: React.FC<IssueCommentProps> = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root} variant=\"outlined\">\n      <CardHeader\n        avatar={\n          <Avatar\n            alt={props.authorLogin}\n            src={props.authorAvatarUrl}\n            className={\n              props.isRootComment ? classes.avatarRoot : classes.avatarComment\n            }\n          >\n            {props.authorLogin.substr(0, 1)}\n          </Avatar>\n        }\n        title={props.isRootComment ? props.issueTitle : undefined}\n        titleTypographyProps={{ variant: \"h5\" }}\n        subheader={\n          <Grid container alignItems=\"center\">\n            <span>\n              <Link href={props.authorUrl} target=\"_blank\" rel=\"noopener\">\n                {props.authorLogin}\n              </Link>{\" \"}\n              on {props.createdAt}\n            </span>\n            {props.isRootComment && props.issueStatus === \"OPEN\" ? (\n              <Chip\n                label=\"Open\"\n                size=\"small\"\n                icon={<ErrorOutline className={classes.issueStatusIcon} />}\n                className={`${classes.issueStatusChip} ${classes.issueStatusChipOpen}`}\n              />\n            ) : props.issueStatus === \"CLOSED\" ? (\n              <Chip\n                label=\"Closed\"\n                size=\"small\"\n                icon={\n                  <CheckCircleOutline className={classes.issueStatusIcon} />\n                }\n                className={`${classes.issueStatusChip} ${classes.issueStatusChipClosed}`}\n              />\n            ) : undefined}\n          </Grid>\n        }\n        action={\n          props.isRootComment ? (\n            <IconButton\n              aria-label=\"settings\"\n              component={Link}\n              href={props.issueUrl}\n              target=\"_blank\"\n              rel=\"noopener\"\n              color=\"primary\"\n            >\n              <Grid container direction=\"column\" alignItems=\"center\">\n                <GitHub />\n                <Typography variant=\"body2\">#{props.issueNumber}</Typography>\n              </Grid>\n            </IconButton>\n          ) : undefined\n        }\n        className={classes.header}\n      />\n      <CardContent>\n        <CommentBody bodyHTML={props.bodyHTML} />\n      </CardContent>\n    </Card>\n  );\n};\n","import React from \"react\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { LinearProgress } from \"@material-ui/core\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\n\nimport { GetIssueComments, GetIssueCommentsRes } from \"../graphql\";\nimport { GithubConfig } from \"../types\";\n\nimport { IssueComment } from \"./IssueComment\";\nimport { LoadMore } from \"./LoadMore\";\nimport { Error } from \"./Error\";\n\nexport const IssueCommentList: React.FC<{\n  githubConfig: Required<GithubConfig>;\n  issueNumber: number;\n}> = ({ githubConfig, issueNumber }) => {\n  const { loading, error, data, fetchMore } = useQuery<GetIssueCommentsRes>(\n    GetIssueComments,\n    {\n      variables: {\n        githubRepositoryName: githubConfig.repositoryName,\n        githubRepositoryOwner: githubConfig.repositoryOwner,\n        issueNumber,\n      },\n    }\n  );\n\n  if (loading) return <LinearProgress />;\n  if (error) return <Error error={error} />;\n  if (!data || data.repository.issue.comments.edges.length === 0)\n    return (\n      <Alert severity=\"info\">\n        <AlertTitle>No comments yets</AlertTitle>\n      </Alert>\n    );\n\n  const fetchMoreComments = (): void => {\n    fetchMore({\n      variables: {\n        after: data.repository.issue.comments.pageInfo.endCursor,\n      },\n    });\n  };\n\n  return (\n    <>\n      {data.repository.issue.comments.edges.map(\n        ({\n          node: {\n            author: {\n              login: authorLogin,\n              url: authorUrl,\n              avatarUrl: authorAvatarUrl,\n            },\n            bodyHTML,\n            createdAt,\n            id,\n          },\n        }) => (\n          <IssueComment\n            {...{\n              isRootComment: false,\n              createdAt,\n              authorLogin,\n              authorUrl,\n              authorAvatarUrl,\n              bodyHTML,\n            }}\n            key={id}\n          />\n        )\n      )}\n      {data.repository.issue.comments.pageInfo.hasNextPage && (\n        <LoadMore loadMore={fetchMoreComments} />\n      )}\n    </>\n  );\n};\n","import React from \"react\";\n\nimport { useQuery } from \"@apollo/client\";\nimport { useParams } from \"react-router-dom\";\nimport { LinearProgress } from \"@material-ui/core\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\nimport { GetIssue, GetIssueRes } from \"../graphql\";\nimport { Error } from \"./Error\";\nimport { GithubConfig } from \"../types\";\n\nimport { IssueCommentList } from \"./IssueCommentList\";\nimport { IssueComment } from \"./IssueComment\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingBottom: theme.spacing(5),\n    },\n  })\n);\n\nexport const Issue: React.FC<{\n  githubConfig: Required<GithubConfig>;\n}> = ({ githubConfig }) => {\n  const classes = useStyles();\n\n  const { issueNumber: issueNumberParam } = useParams();\n  const issueNumber = parseInt(issueNumberParam, 10);\n\n  const { loading, error, data } = useQuery<GetIssueRes>(GetIssue, {\n    variables: {\n      githubRepositoryOwner: githubConfig.repositoryOwner,\n      githubRepositoryName: githubConfig.repositoryName,\n      issueNumber,\n    },\n  });\n\n  if (loading) return <LinearProgress />;\n  if (error) return <Error error={error} />;\n  if (!data || !data.repository.issue)\n    return (\n      <Alert severity=\"warning\">\n        <AlertTitle>Issue not found</AlertTitle>\n      </Alert>\n    );\n  const { issue } = data.repository;\n\n  return (\n    <div className={classes.root}>\n      <IssueComment\n        {...{\n          isRootComment: true,\n          issueNumber,\n          issueStatus: issue.state,\n          issueTitle: issue.title,\n          issueUrl: issue.url,\n          createdAt: issue.createdAt,\n          authorLogin: issue.author.login,\n          authorUrl: issue.author.url,\n          authorAvatarUrl: issue.author.avatarUrl,\n          bodyHTML: issue.bodyHTML,\n        }}\n      />\n\n      <IssueCommentList githubConfig={githubConfig} issueNumber={issueNumber} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { ApolloProvider } from \"@apollo/client\";\nimport { Container } from \"@material-ui/core\";\n\nimport { useStickyState } from \"../helpers\";\nimport { defaultGitHubRepository, githubRepositoryRegex } from \"../config\";\nimport { GithubConfig } from \"../types\";\nimport { createApolloClient } from \"../apollo\";\n\nimport { Navigation } from \"./Navigation\";\nimport { Settings } from \"./Settings\";\nimport { IssueList } from \"./IssueList\";\nimport { Issue } from \"./Issue\";\nimport { UnauthenticatedError, GithubRepositoryConfigError } from \"./Error\";\nimport \"./app.css\";\n\nconst AuthWrapper: React.FC<{\n  githubConfig: GithubConfig;\n}> = ({ githubConfig, children }) => {\n  if (!githubConfig.repositoryOwner || !githubConfig.repositoryName) {\n    return <GithubRepositoryConfigError />;\n  }\n  if (!githubConfig.token) {\n    return <UnauthenticatedError />;\n  }\n\n  return <>{children}</>;\n};\n\nexport const App: React.FC<{}> = () => {\n  const apolloClient = createApolloClient();\n  const deleteApolloCache = (): void => {\n    apolloClient.resetStore();\n  };\n\n  const [githubRepositoryUrl, setGithubRepositoryUrl] = useStickyState<string>(\n    \"githubRepositoryUrl\",\n    defaultGitHubRepository\n  );\n  const [githubToken, setGithubToken] = useStickyState<string>(\n    \"githubToken\",\n    \"\"\n  );\n\n  const githubRepositoryMatch = githubRepositoryUrl.match(\n    githubRepositoryRegex\n  );\n  const githubConfig: GithubConfig = {\n    token: githubToken,\n    setToken: setGithubToken,\n    repositoryUrl: githubRepositoryUrl,\n    setRepositoryUrl: setGithubRepositoryUrl,\n    repositoryOwner: githubRepositoryMatch?.groups?.owner,\n    repositoryName: githubRepositoryMatch?.groups?.name,\n  };\n\n  React.useEffect(deleteApolloCache, [githubRepositoryUrl, githubToken]);\n\n  return (\n    <ApolloProvider client={apolloClient}>\n      <Router\n        basename={\n          // GitHub pages navigation workaround\n          // see https://github.com/rafgraph/spa-github-pages#single-page-apps-for-github-pages\n          process.env.NODE_ENV === \"production\"\n            ? \"/mms-github-issue-explorer\"\n            : \"/\"\n        }\n      >\n        <Navigation />\n\n        <Container maxWidth=\"md\">\n          <Switch>\n            <Route path=\"/settings\">\n              <Settings githubConfig={githubConfig} />\n            </Route>\n            <Route path=\"/:issueNumber\">\n              <AuthWrapper githubConfig={githubConfig}>\n                <Issue githubConfig={githubConfig as Required<GithubConfig>} />\n              </AuthWrapper>\n            </Route>\n            <Route path=\"/\">\n              <AuthWrapper githubConfig={githubConfig}>\n                <IssueList\n                  githubConfig={githubConfig as Required<GithubConfig>}\n                />\n              </AuthWrapper>\n            </Route>\n          </Switch>\n        </Container>\n      </Router>\n    </ApolloProvider>\n  );\n};\n","import {\n  ApolloClient,\n  InMemoryCache,\n  NormalizedCacheObject,\n  createHttpLink,\n} from \"@apollo/client\";\n\nimport { setContext } from \"@apollo/client/link/context\";\nimport { relayStylePagination } from \"@apollo/client/utilities\";\n\nimport { githubGraphQLEndpoint } from \"./config\";\nimport { readKeyFromLocalStorage } from \"./helpers\";\n\nexport const createApolloClient = (): ApolloClient<NormalizedCacheObject> => {\n  const httpLink = createHttpLink({\n    uri: githubGraphQLEndpoint,\n  });\n\n  const authLink = setContext((_, { headers }) => {\n    const githubToken = readKeyFromLocalStorage<string>(\"githubToken\", \"\");\n    return {\n      headers: {\n        ...headers,\n        authorization: githubToken ? `bearer ${githubToken}` : \"\",\n      },\n    };\n  });\n\n  return new ApolloClient({\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache({\n      typePolicies: {\n        // the user (`author` prop) `login` (username) is distinct no matter if\n        // the user data is fetched from the `GetIssue` query or the `SearchIssues`\n        User: {\n          keyFields: [\"login\"],\n        },\n        // `Repository` queries are the ones for fetching single issues (`GetIssue`)\n        // hence the nested `id` prop. of the issue should be used as the cache key\n        Repository: {\n          keyFields: [[\"id\"]],\n        },\n        Issue: {\n          fields: {\n            // pagination policy for comment retrieval\n            comments: relayStylePagination([[\"issueNumber\"]]),\n          },\n        },\n        Query: {\n          fields: {\n            // pagination policy for issue search/list\n            search: relayStylePagination([\"query\"]),\n          },\n        },\n      },\n    }),\n    connectToDevTools: true,\n  });\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { App } from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}